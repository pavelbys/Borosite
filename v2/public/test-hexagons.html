<!DOCTYPE html>
<html>
<head>
	<title>Hex</title>
</head>
<body>

	<script src="js/libraries/hexagon.js"></script>

	<canvas id="HexCanvas" width="800" height="300"></canvas>

	<script>
	// var hexagonGrid = new HexagonGrid("HexCanvas", 40);
	// hexagonGrid.drawHexGrid(10, 20, -50, -50, false);

	var sin60 = Math.sqrt(3)/2;
	function getHexSettings (width, height, radius) {
		var cX = width/2, cY = height/2;

		var halfXRadii = Math.ceil(cX/radius) - 1;
		var halfNumCols = Math.floor(halfXRadii/1.5);
		var numColumns = halfNumCols*2 + 1;

		var vertRadius = sin60*radius;
		var halfYRadii = cY/vertRadius - 1;
		var halfRows = Math.ceil(halfYRadii/2);
		var numRows = halfRows*2 + 1;
		
		var totalHalfWidth = Math.ceil(cX/radius)*radius;

		var horTriangles = Math.ceil(cX/radius - 1);
		var halfCols = Math.ceil(horTriangles/1.5);
		var left = cX-radius*horTriangles;
		if ( horTriangles%3 != 0 ) left -= radius/2;

		return {
			columns: numColumns,
			rows: numRows,
			topLeft: {
				x: cX - totalHalfWidth,
				y: left
			}
		};
	}

	console.log(getHexSettings(800, 300, 50));

	var r = 10;
	var hexagonGrid = new HexagonGrid("HexCanvas", r);
	var canvas = document.getElementById("HexCanvas");
	var ctx = canvas.getContext("2d");
	var hexInt = setInterval(function() {
		if (r < 50) {
			// console.log(canvas.width, canvas.height);
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			var hexSettings = getHexSettings(canvas.width, canvas.height, r);
			hexagonGrid.setRadius(r);
			hexagonGrid.drawHexGrid(hexSettings.rows, hexSettings.columns, hexSettings.topLeft.x, hexSettings.topLeft.y, true);
			// hexagonGrid.drawHexGrid(hexSettings.rows, 50, 0, hexSettings.topLeft.y, true);

			r *= 1.0050;
		} else {
			clearInterval(hexInt);
		}
	}, 17);
	</script>

</body>
</html1