<!DOCTYPE html>
<html>
<head>
	<title>Hex</title>
</head>
<body>

	<script src="js/libraries/hexagon.js"></script>

	<canvas id="HexCanvas" width="800" height="300"></canvas>

	<script>
	// var hexagonGrid = new HexagonGrid("HexCanvas", 40);
	// hexagonGrid.drawHexGrid(10, 20, -50, -50, false);

	var sin60 = Math.sqrt(3) / 2;

	function getHexSettings(width, height, radius) {
		var cX = width / 2,
			cY = height / 2;

		var avgRadius = radius * 1.5;

		var halfNumCols = Math.ceil(cX / avgRadius);
		if (halfNumCols % 2 !== 0) {
			halfNumCols++;
		}

		var numColumns = halfNumCols * 2 + 1;
		var totalWidth = (halfNumCols * avgRadius + radius) * 2;

		var vertRadius = sin60 * radius;
		var halfYRadii = cY / vertRadius - 1;
		var halfRows = Math.ceil(halfYRadii / 2);
		var numRows = halfRows * 2 + 1;

		return {
			columns: numColumns,
			rows: numRows,
			topLeft: {
				x: cX - totalWidth / 2,
				y: cY - numRows * vertRadius
			}
		};
	}

	console.log(getHexSettings(800, 300, 50));

	var r = 7;
	var hexagonGrid = new HexagonGrid("HexCanvas", r);
	var canvas = document.getElementById("HexCanvas");
	var ctx = canvas.getContext("2d");
	var hexInt = setInterval(function() {
		if (r < 80) {
			// console.log(canvas.width, canvas.height);
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			var hexSettings = getHexSettings(canvas.width, canvas.height, r);
			hexagonGrid.setRadius(r);
			hexagonGrid.drawHexGrid(hexSettings.rows, hexSettings.columns, hexSettings.topLeft.x, hexSettings.topLeft.y);
			// hexagonGrid.drawHexGrid(hexSettings.rows, 50, 0, hexSettings.topLeft.y, true);

			r *= 1.015;
		} else {
			clearInterval(hexInt);
		}
	}, 17);
	</script>

</body>
</html1